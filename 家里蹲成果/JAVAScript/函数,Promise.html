<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // åˆ›å»ºå‡½æ•°
      (function å‡½æ•°åŸºæœ¬æ–¹æ³•() {
        // es6æ–°å¢:å¯ä»¥ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼,å†™æ³•parameter=100
        function fn(a, b = 100) {
          // å‡½æ•°çš„arguments,è¿”å›å‡½æ•°æ‰€æœ‰çš„ä¼ å‚

          return [a + b, arguments];
        }
        console.log(fn(1, 23, 3));
        // ä¼ å‚.length<å½¢å‚.length,é»˜è®¤ä¸ºundefined
        console.log(fn(1));

        // å‡½æ•°è½¬å­—ç¬¦ä¸²
        console.log(fn.toString());
        fn(1, 2);
      })();

      (function ç®­å¤´å‡½æ•°() {
        // ç®­å¤´å‡½æ•°æ²¡æœ‰this,å¼ºè¡Œä½¿ç”¨thisä¼šæŒ‡å‘çˆ¶çº§
        // å®éªŒè¯æ˜,argumentsåœ¨ç®­å¤´å‡½æ•°ä¸­æ— æ³•æ­£å¸¸ä½¿ç”¨
        let fn = (a, b = 1) => {
          console.log(this);
          console.log(arguments);
        };
        fn(1, 2, 3, 34, 2);
      })();

      (function å‚æ•°() {
        // å‡½æ•°ä¸­çš„å‚æ•°åªä¼šæ¥å—åŸå§‹å€¼,ä¸ä¼šæ”¹å˜å‚æ•°åŸæœ¬çš„å€¼
        // ä¸è®¾å½¢å‚,é‚£ä¹ˆæœ‰å¤šå°‘ä¼ å‚argumentsæ¥æ”¶å¤šå°‘
        function fn() {
          console.log(arguments);
        }
        fn(12, 34, 56);
      })();

      (function å…³é”®å­—this() {
        // thisæ˜¯ä¸€ä¸ªå…³é”®å­—,ä¸æ˜¯å˜é‡,æ‰€ä»¥å®ƒçš„å€¼æ— æ³•æ”¹å˜
        // thisæŒ‡å‘å®ƒçš„æ‹¥æœ‰è€…,æœ€ä¸Šé¢æ˜¯window
        // å‡½æ•°ä½œä¸ºå¯¹è±¡æ–¹æ³•æ—¶,thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡
        let obj = {
          a: function () {
            console.log(this);
          },
        };
        obj.a();
      })();
      (function æ”¹å˜thisæŒ‡å‘() {
        // æ”¹å˜thisçš„æŒ‡å‘
        // å…¨å±€ä¸­çš„thisæŒ‡å‘window
        // varå£°æ˜çš„ä¸œè¥¿æŒ‚è½½åœ¨windowä¸Š,letæ²¡æŒ‚è½½
        var str = "ä½ å¥½";
        var obj = { str: "ä½ å¥½å‘€" };
        //   åªæœ‰åœ¨å‡½æ•°è°ƒç”¨callæ—¶,æ‰æš‚æ—¶æ”¹å˜thisæŒ‡å‘,ä¸æ”¹å˜åŸå‡½æ•°çš„thisæŒ‡å‘
        //   callä¸€è°ƒç”¨ç«‹å³æ‰§è¡Œå‡½æ•°
        //   applyä¸€è°ƒç”¨ç«‹å³æ‰§è¡Œå‡½æ•°
        //   bindä¸ä¼šç«‹å³æ‰§è¡Œ,ä»–è¿”å›ä¸€ä¸ªå‡½æ•°,åŠ ()æ‰æ‰§è¡Œ
        //   ä»–ä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡,ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ å‚,applyæ˜¯ä¸€ä¸ªæ•°ç»„,callä¸bindæ˜¯ä¾æ¬¡å†™,é€—å·åˆ†éš”

        function fn() {
          console.log(this.str);
        }
        // è¿™ç©æ„ä¸¤ç§æ€è·¯
        // 1.fnæ”¹å˜äº†è‡ªèº«çš„thisæŒ‡å‘,æŒ‡å‘äº†obj,è¿™æ ·å°±èƒ½ä½¿ç”¨objçš„æ•°æ®äº†
        // 2.fnçš„thisæŒ‡å‘obj,objè·å¾—äº†fnçš„æ–¹æ³•
        fn.call(obj);
        fn();
      });
      (function æ„é€ å‡½æ•°() {
        // æ„é€ å‡½æ•°,å®ƒå°±æ˜¯ä¸€ä¸ªæ¨¡æ¿,åŸºäºè¿™ä¸ªæ¨¡æ¿æ¥åˆ›é€ ä¸åŒçš„å¯¹è±¡
        // æ„é€ å‡½æ•°çš„é¦–å­—æ¯æœ€å¥½å¤§å†™
        function Fn(a, b) {
          this.a = a;
          this.b = b;
          // å¯ä»¥æ·»åŠ å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°çš„æ–¹æ³•
          this.aa = function () {
            return this.a + this.b;
          };
        }
        // å®ä¾‹å¯¹è±¡,æ³¨æ„,å®ƒæ˜¯å¯¹è±¡,ä¸æ˜¯å‡½æ•°
        let obj1 = new Fn(1, 2, 3, 3);
        console.log(obj1, obj1.aa());
      })();

      (function ç±»() {
        // ç±»:åŠ å¼ºç‰ˆçš„æ„é€ å‡½æ•°
        // è¦ç‚¹:æ•°æ®/å±æ€§æ”¾åœ¨ constructor é‡Œ,æ–¹æ³•å†™åœ¨ constructor ä¸‹é¢
        // å‘½å:é¦–å­—æ¯å¤§å†™+é©¼å³°,è¿™ä¸ªè€ç”Ÿå¸¸è°ˆäº†å§
        const å®ä¾‹å¯¹è±¡ = new ç±»çš„åå­—(1, 2);
        å®ä¾‹å¯¹è±¡.è‡ªå®šä¹‰å˜é‡1;
        class ç±»çš„åå­— {
          // ç°åœ¨æ€æƒ³:æ•°æ®å®šä¹‰åœ¨è¿™é‡Œ
          è‡ªå®šä¹‰å˜é‡1;
          è‡ªå®šä¹‰å˜é‡2;
          constructor(a, b) {
            // ä»¥å¾€æ€æƒ³:æ•°æ®å®šä¹‰åœ¨è¿™é‡Œ
            this.è‡ªå®šä¹‰å˜é‡1 = a;
            this.è‡ªå®šä¹‰å˜é‡2 = b;
          }
          add() {
            return this.a + this.b;
          }
          //   staticå…³é”®å­—,è®©è¿™ä¸ªå…³é”®å­—åé¢çš„æ–¹æ³•åªèƒ½é€šè¿‡ç±»ä½¿ç”¨
          static father() {
            return "è¿™æ–¹æ³•åªæœ‰ä½ è€å­æˆ‘èƒ½ç”¨,åªèƒ½é€šè¿‡ ç±»çš„åå­—.father è°ƒç”¨";
          }
        }
        // åŸºäºç±»åˆ›å»ºå¯¹è±¡
        let obj1 = new ç±»çš„åå­—(1, 2);
        console.log(obj1, obj1.add());
        // å®ä¾‹ç”¨,ç±»ç”¨
        // å®ä¾‹ç”¨ç›´æ¥æŠ¥é”™å•Šå“ˆå“ˆå“ˆğŸ˜‚
        console.log(ç±»çš„åå­—.father());
      })();

      (function ç±»çš„ç»§æ‰¿() {
        // åœ¨åŸºç¡€çš„ç±»ä¸Šé¢æ”¹é€ ç”Ÿæˆä¸€ä¸ªæ–°çš„ç±»
        // è¿™å°±æ˜¯ç»§æ‰¿
        // ä¸¤ä¸ªè¦ç´ :åˆ›å»ºåŠ extends,constructoråŠ super(a)
        // å…ˆåˆ›å»ºä¸€ä¸ªç±»
        class çˆ¶äº²ç±» {
          constructor(a, b) {
            this.a = a;
            this.b = b;
          }
          add(x) {
            return this.a + this.b + x;
          }
        }
        //   å„¿å­æ¥äº†
        class å„¿å­ç±» extends çˆ¶äº²ç±» {
          constructor(a, b, c) {
            super(a, b);
            this.c = c;
          }
          // åºŸç‰©å„¿å­ä¹Ÿæ¥ä¸ªæ–¹æ³•
          sub() {
            return this.c - (this.a + this.b);
          }
        }
        //   ç»§æ‰¿äº†çˆ¶äº²å±æ€§å’Œæ–¹æ³•çš„å„¿å­æ¥ç”Ÿæˆä¸€ä¸ªå®ä¾‹
        let objSon = new å„¿å­ç±»(1, 2, 10);
        // æˆ‘æ‰“å°äº†å•¥,çœ‹ç€å¾ˆä¹±å§,ä¸‹é¢,è°œåº•æ­æ™“
        // å„¿å­å®ä¾‹,å„¿å­å®ä¾‹çš„å‡æ–¹æ³•,å„¿å­å®ä¾‹çš„åŠ æ–¹æ³•,åŠ æ–¹æ³•ä¸ç›´æ¥åœ¨å„¿å­ä¸Š,åœ¨çˆ¶äº²ä¸Š
        console.log(objSon, objSon.sub(), objSon.add(1000));
      })();

      console.warn("å›è°ƒå‡½æ•°");

      (function å›è°ƒå‡½æ•°çš„é­…åŠ›() {
        // å›è°ƒå‡½æ•°:è§£å†³å‡½æ•°æ‰§è¡Œé¡ºåºçš„é—®é¢˜
        // å°†ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ä½“,å‡½æ•°ä½“å°±æ˜¯ä¸åŠ æ‹¬å·çš„å‡½æ•°,ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°æ‰§è¡Œ
        // ä¼˜ç‚¹:å¯ä»¥è§„å®šæ‰§è¡Œé¡ºåº,å¯ä»¥ä¸­æ–­å‡½æ•°çš„æ‰§è¡Œ,ä½ æƒ³å•Š,ä¸æ˜¯ä¼ å‚çš„æ–¹å¼,è€Œæ˜¯å‡½æ•°åµŒå¥—å‡½æ•°,é‚£å²‚ä¸æ˜¯fn(fn())å°æ‹¬å·å…¨éƒ¨æ‰§è¡Œäº†,åµŒå‡ å±‚æ‰§è¡Œå‡ å±‚
        // è€Œä¸”,è¿™ç§æ¨¡å—åŒ–çš„å†™æ³•æ›´åŠ çµæ´»
        // è®²äº†è¿™ä¹ˆå¤š,å¼€å†™

        // å†™ä¸€ä¸ªå‡½æ•°å…ˆåŠ ,å†è¢«æŸä¸ªæ•°å‡
        let add = (a, b, c, fn) => {
          let result = a + b;
          return fn(c, result);
        };
        let sub = (c, x) => {
          return c - x;
        };
        console.log(add(1, 2, 100, sub));
        // è¿™ä»–å¦ˆè¿™ä¹ˆç®€å•çš„ä¸œè¥¿æå¾—è¿™ä¹ˆå¤æ‚,å›è°ƒä¹ŸæŒºéš¾æ
        // 1.å®šæ—¶å™¨æ–¹æ³•ç»„æˆå›è°ƒå‡½æ•°
        // æœ€ç®€å•çš„å›è°ƒå‡½æ•°,å®šæ—¶å™¨,å› ä¸ºå®šæ—¶å™¨æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€ä¸ªå°±æ˜¯function,ç¬¬äºŒä¸ªæ˜¯æ¯«ç§’æ•°
        // 3ç§’åæ‰“å°æˆ‘çˆ±ä½ 
        setTimeout(() => {
          // console.log("æˆ‘çˆ±ä½ å“Ÿ");
        }, 1000);
        // è¿™ä¹ˆå†™å¤ªç®€å•,ä¸èƒ½ä¼ å‚å’Œè‡ªå®šä¹‰å†…å®¹,æ‰€ä»¥å¤–é¢å¥—ä¸€å±‚
        // å®šæ—¶å™¨æ˜¯ä¸€ä¸ªæ–¹æ³•,ä¸å¯èƒ½()è°ƒç”¨
        // å®šæ—¶å™¨çš„æœ¬è´¨,è®¾å®šçš„æ¯«ç§’æ•°ä¸€åˆ°,å°±ä¼šè°ƒç”¨å‡½æ•°,æ‰€ä»¥æ˜¯è°ƒç”¨,è°ƒç”¨,é‚£ä¹ˆ,è¢«è°ƒç”¨çš„è¿™ä¸ªå‡½æ•°å°±å¯ä»¥åœ¨åˆ«çš„åœ°æ–¹å£°æ˜äº†,æˆ–åˆ™ä¸å£°æ˜,ç›´æ¥å‡½æ•°ä½“,å°±åƒä¸Šé¢è¿™ä¸ªå®šæ—¶å™¨

        // 2.
        // æ ¹æ®ä¸Šé¢çš„å®šä¹‰,è¿™ä¸ªå®šæ—¶å™¨åˆ°è¾¾è§„å®šæ—¶é—´,å…ˆæ‰§è¡Œå¤–å±‚çš„å‡½æ•°
        // ç„¶åæ‰§è¡Œå‡½æ•°ä½“çš„"å‡½æ•°è°ƒç”¨","å‡½æ•°()"æ‰¾åˆ°å£°æ˜å‡½æ•°
        // å£°æ˜å‡½æ•°
        function fnStr(str) {
          // console.log(str);
        }
        setTimeout(function () {
          fnStr("çˆ±ä½ å“Ÿçˆ±ä½ å•Š");
        }, 3000);

        // ç°æœ‰çš„ç»“æ„æˆ‘æƒ³ä¸å‡ºæ›´å¥½çš„æ–¹æ¡ˆäº†
        // æƒ³è¦å®Œå–„ä¸€äº›åŠŸèƒ½,å°±è¦å°è£…ä¸€ä¸ªå‡½æ•°
        // è§„èŒƒäº›,å£°æ˜æ”¾ä½œç”¨åŸŸçš„æœ€ä¸Šæ–¹
        // å‘:å‡½æ•°å®šä¹‰çš„æ—¶å€™fn(a){},aæ˜¯å½¢å‚,
        // å‘:å¤–å±‚å‡½æ•°ä¼ é€’å½¢å‚çš„æ—¶å€™,å†…éƒ¨çš„å‡½æ•°å£°æ˜fn(a){},å½¢å‚aæ¥æ”¶ä¸åˆ°å¤–é¢ä¼ æ¥çš„å‚æ•°,ç›´æ¥fn(){a},è¿™æ ·å°±ok!!
        function æ›´å®Œå–„çš„å®šæ—¶å™¨(str) {
          // æŠŠä¹‹å‰çš„ç»“æ„æ‹¿è¿‡æ¥å†æ”¹
          // å£°æ˜å‡½æ•°
          console.warn(str);
          function fnStr() {
            // console.log(str);
          }
          //   å®šæ—¶å™¨
          setTimeout(function () {
            // å‡½æ•°è°ƒç”¨
            fnStr();
          }, 1000);
        }
        æ›´å®Œå–„çš„å®šæ—¶å™¨("æˆ‘æ˜¯å°è£…çš„æˆ‘çˆ±ä½ ");

        // è¿˜æœ‰ä¸€ä¸ªå®šæ—¶å™¨,setInterval(fn(),1000),è¿™ä¸ªä¸€ç§’è·‘ä¸€æ¬¡,ä¸ºäº†é¿å…å å†…å­˜,è¿™é‡Œä¸åšæ¼”ç¤º
      })();

      (function promiseæ¨¡æ¿() {
        // åˆ›å»ºä¸€ä¸ªpromise
        // promise.then(),åªæœ‰promiseçŠ¶æ€æ”¹å˜æ‰ä¼šæ‰§è¡Œthen,ä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰res()æˆ–è€…rej(),thenä¸­çš„ä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œ
        // promise.then()æ¯æ¬¡éƒ½ä¼šè¿”å›ä¸€ä¸ªå…¨æ–°çš„promise,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸æ–­çš„promise.then().then(),å¹¶ä¸”,ä¸Šä¸€ä¸ª.thençš„è¿”å›å€¼èƒ½è¢«ä¸‹é¢thençš„å½¢å‚æ¥æ”¶
        // promise.then()æˆ–.catch()å‚æ•°çš„æœŸæœ›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°,ä¸æ˜¯å‡½æ•°ç›´æ¥è·³è¿‡æœ¬æ¬¡çš„thenæˆ–catch
        // æŠ›å‡ºé”™è¯¯å¯¹è±¡ throw new Error('error!!!'),ç›´æ¥æŠŠthenå¹²è¶´äº†,è¿›å…¥catch
        // ç®€å•ç†è§£:promiseä¸¤æ¡æ‰§è¡Œé“¾,åˆ›å»ºæ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°,å‡½æ•°ä½“ä¸­ä¸å½¢å‚åŒåçš„æ–¹æ³•,.thenä¸­çš„ç¬¬ä¸€ä¸ªå‡½æ•°,ä»–ä»¬ç»„æˆäº†ä¸€æ¡æ‰§è¡Œé“¾;å‰©ä¸‹çš„ç»„æˆäº†å¦ä¸€æ¡,ç„¶åæˆ‘ä»¬å¯ä»¥ç»™è¿™ä¸¤æ¡æ‰§è¡Œé“¾å–åä¸ºæˆåŠŸä¸å¤±è´¥
        // å‘:Pæ˜¯å¤§å†™
        let p = new Promise(function (res, rej) {
          res(); // æˆåŠŸæ—¶è°ƒç”¨æ­¤å‡½æ•°;æ‹¬å·é‡Œé¢å¯ä»¥å†™äº›ä¸œè¥¿,è¿™äº›ä¸œè¥¿ä¼šè¢«å‘é€åˆ°.thenä¸­çš„æˆåŠŸå‡½æ•°
          rej(); // å¤±è´¥æ—¶è°ƒç”¨æ­¤å‡½æ•°;æ‹¬å·é‡Œé¢å¯ä»¥å†™å†™ä¸œè¥¿,è¿™äº›ä¸œè¥¿ä¼šè¢«å‘é€åˆ°.thenä¸­çš„å¤±è´¥å‡½æ•°
        });
        // .thenæœ‰ä¸¤ä¸ªå‚æ•°,ä¸€ä¸ªæˆåŠŸå›è°ƒå‡½æ•°,ä¸€ä¸ªå¤±è´¥å›è°ƒå‡½æ•°
        p.then(
          function (value) {}, //æˆåŠŸæ—¶ä¼ é€’çš„æ•°æ®,åŠ å·¥
          function (error) {} //å¤±è´¥æ—¶ä¼ é€’çš„æ•°æ®,åŠ å·¥
        );
      })();
      (function å†™ä¸€ä¸ªpromiseå®ä¾‹() {
        // åˆ›å»ºpromise
        let p = new Promise(function (res, rej) {
          let num = 0;
          // æ•´ä¸ªå°åˆ¤æ–­
          if (num === 0) {
            res("æˆåŠŸçš„æ•°æ®");
          } else {
            rej("å¤±è´¥çš„æ•°æ®");
          }
        });
        p.then(
          // ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°ä¼šæ¥æ”¶æˆåŠŸ,ç¬¬äºŒä¸ªæ¥å—å¤±è´¥
          function (data) {
            // console.log(data);
          },
          function (data) {
            console.log(data);
          }
        );
      })();

      (function æ›´åŠ ç®€å•çš„promiseå®ä¾‹() {
        // åªä½¿ç”¨ä¸€æ¡æ‰§è¡Œé“¾,è€Œä¸”ä½¿ç”¨ç®­å¤´å‡½æ•°,çœ‹èµ·æ¥ååˆ†ç²¾ç®€
        let p = new Promise((res) => res("åªæœ‰æˆåŠŸ,æ²¡é”™,å°±æˆ‘ä¸€ä¸ª"));
        p.then((data) => {
          // console.log(data);
        });
      })();

      // ä¸Šé¢çˆ±æ¥çˆ±å»å¤ªçƒ¦,åŸæ¥clearç®¡ä¸äº†å¼‚æ­¥çš„
      // console.clear();
      (function asyncä¿®é¥°ç¬¦() {
        // asyncå°†ä¸€ä¸ªæ™®é€šå‡½æ•°çš„"è¿”å›å€¼"å˜ä¸ºPromise.resolve()çš„å½¢å¼
        // è¿™æ ·,è¿™ä¸ªå‡½æ•°å°±å¯ä»¥ç›´æ¥.thenäº†,è¿™æ ·è§£å†³å¼‚æ­¥é—®é¢˜æ›´ç®€å•äº†,æ³¨æ„:æ²¡æœ‰è¿”å›å€¼å°±gäº†
        async function fn() {
          return 111;
        }
        fn().then(function (data) {
          // console.log(data);
        });
      })();

      (function awaitä¿®é¥°ç¬¦() {
        // awaitç­‰å¾…,åªèƒ½æ­é…asyncä½¿ç”¨
        // awaité˜»å¡,awaitåé¢æ˜¯promiseæ—¶,ä¼šé˜»æ­¢åé¢çš„ä»£ç æ‰§è¡Œ
        // awaitè¿”å›å€¼:åé¢æ˜¯promiseå¯¹è±¡åˆ™è¿”å›promise.res()çš„ç»“æœ,å­˜æ”¾çš„å€¼æ˜¯res()æˆ–rej()çš„æ•°æ®;å¦‚æœä¸æ˜¯promiseå¯¹è±¡åˆ™è¿”å›å…¶æœ¬èº«,å‡½æ•°ä¸è°ƒç”¨è¿”å›å‡½æ•°ä½“,å‡½æ•°(),é‚£ä¾¿æ˜¯å‡½æ•°çš„è¿”å›å€¼
        // ç®€å•ç†è§£:ä»£æ›¿äº†.then
        //  1.await:"åŒæ­¥ä»»åŠ¡äº†ä¸èµ·å•Š?ä½ ç»™æˆ‘ç­‰ç€!"
        // è¿™æ˜¯é”™è¯¯çš„ä¾‹å­,éƒ½æ˜¯åŒæ­¥ä»»åŠ¡,ä¸åˆ†å°Šå‘
        async function fn1() {
          console.log("å¼€å§‹");
          await console.log(1);
          await console.log(2);
          await console.log(3);
          console.log("ç»“æŸ");
        }
        fn1();
        // 2.await:".then,ä½ ç®—ä¸ªé¸Ÿ,æˆ‘åˆå¿«åˆå°"
        // å°è£…ä¸€ä¸ªpromise
        let createP = (num) => {
          return new Promise((res) => {
            setTimeout(() => {
              res("promiseæˆåŠŸå€¼");
              console.log(num);
            }, num);
          });
        };
        // å› ä¸ºawaitåé¢æ˜¯promise,æ‰€ä»¥åé¢çš„ä»£ç èµ°ä¸åŠ¨é“äº†
        async function fn2() {
          await createP(3000);
          await createP(2000);
          await createP(3000);
        }
        fn2();
        // 3.awaitè¿”å›å€¼,éš¾é“æ”¹äº†å—,await promise,è¿”å›çš„ä¸æ˜¯promise,è€Œæ˜¯ä¸€ä¸ªå€¼
        (async function fn3() {
          let p = new Promise((res) => {
            res("æˆ‘æ˜¯æœ€ç›´ç™½çš„promiseå¯¹è±¡");
          });
          //
          let fn = async () => {
            return "1233233";
          };
          console.log(fn());
          //
          let a = await p;
          console.log(
            p.then(function (data) {
              console.log(data);
            })
          );
          console.log(p);
          console.log(a);
        })();
      })();
      (function promiseè‡ªèº«çš„æ–¹æ³•() {
        // all,å¤šä¸ªå¼‚æ­¥ä»»åŠ¡ä¸€èµ·æ‰§è¡Œ,è¿”å›ä¸€ä¸ªæ•°ç»„
        let fnTime = (num) => {
          setTimeout(() => {
            console.log("----" + num);
          }, num);
          return num;
        };
        // åˆ›å»ºå¤šä¸ªå¼‚æ­¥ä»»åŠ¡
        let time1 = fnTime(6000);
        let time2 = fnTime(5000);
        let time3 = fnTime(4000);
        // allä¸€ä¸‹,ä¼—ç”Ÿå¹³ç­‰
        let allTime = Promise.all([time1, time2, time3]);
        console.warn(allTime);
        // rance,ç‰©ç«å¤©æ‹© å¥”è·‘
        // ä¸ç†è§£ä¸ºå•¥æ’ç¬¬ä¸€ä¸ªå°±è¿›å…¥raceäº†
        let raceTime = Promise.race([fnTime(6000), fnTime(5000), fnTime(4000)]);
        console.warn(raceTime);
      })();

      function promiseçæå†™æ³•() {
        let p = new Promise((res, rej) => {
          // æ¥ä¸€ä¸ªéšæœºæ•°(1-10)
          let num = Math.floor(Math.random() * 11);
          // åˆ¤æ–­
          if (num >= 5) {
            res("æˆåŠŸå‚æ•°");
          } else {
            rej("å¤±è´¥å‚æ•°");
          }
        });
        // æ‰§è¡Œä¸‹ä¸€ä¸ª
        try {
          let pp = p
            .then((data) => {
              console.log(data);
              return data;
            })
            .then((data) => {
              return data + 1;
            });
        } catch (err) {
          console.log(err);
        } finally {
          return "finally";
        }
        console.warn(pp);
      }
      // promiseçæå†™æ³•();æŠ¥é”™,æˆ‘ç´¯äº†,æ¯ç­å§

      // å¼‚æ­¥ä»»åŠ¡æœ‰å®ä»»åŠ¡,å¾®ä»»åŠ¡
      // å®ä»»åŠ¡(æµè§ˆå™¨è§„å®šçš„):script,setTimeout,setInterval,DOMäº‹ä»¶
      // å¾®ä»»åŠ¡(ES6è¯­æ³•è§„å®šçš„):promiseçš„é‚£äº›å°æ–¹æ³•,async,await
    </script>
  </body>
</html>
